<p-dialog [modal]="true" [(visible)]="visible" [style]="{ width: '45rem' }">
  <ng-template pTemplate="header">
    <div class="inline-flex align-items-center justify-content-center gap-2">
      <div class="d-flex align-items-center">
        <img
          src="../../../assets/images/icons/menu/growing-plant.png"
          alt="growing plant icon"
          width="40"
          height="40"
        />
        <span class="fw-bold header-text ms-3"> {{ title }} </span>
      </div>
    </div>
  </ng-template>
  <form [formGroup]="cropForm" (ngSubmit)="onSubmit()">
    <span class="p-text-secondary d-block mb-5"
      >Digite os parâmetros da nova cultura.</span
    >
    <div class="d-flex flex-column align-items-start mb-3">
      <label for="crop-name" class="fw-semibold">Nome da Cultura</label>
      <input
        [formControl]="cropForm.controls.name"
        pInputText
        id="crop-name"
        class="flex-auto"
        autocomplete="off"
      />
    </div>
    <div class="d-flex flex-row align-items-start mb-3">
      <div class="d-flex flex-column align-items-start">
        <label for="crop-root-depht" class="fw-semibold"
          >Profundidade Radicular (cm)</label
        >
        <p-inputNumber
          [formControl]="cropForm.controls.rootDepth"
          inputId="crop-root-depht"
        />
      </div>
      <div class="d-flex flex-column align-items-start ms-4">
        <label for="crop-factor-f" class="fw-semibold"
          >Fator de Disponibilidade de Água</label
        >
        <p-inputNumber
          [formControl]="cropForm.controls.waterAvailabilityFactor"
          inputId="crop-factor-f"
          mode="decimal"
          [minFractionDigits]="2"
          [maxFractionDigits]="2"
          [min]="0"
          [max]="1"
          [size]="22"       
        />
      </div>
    </div>
    <div class="d-flex flex-row justify-content-start">
      <div class="d-flex flex-column align-items-start">
        <label for="crop-cycle" class="fw-semibold"
          >Ciclo Fenológico (dias)</label
        >
        <p-inputNumber
          [formControl]="cropForm.controls.cycleDurationDays"
          inputId="crop-cycle"
        />
      </div>
      <div class="d-flex flex-column align-items-start ms-4">
        <label class="fw-semibold">Duração das Fases Fenológicas (%)</label>
        <div class="d-flex flex-row">
          <p-inputNumber
            [formControl]="cropForm.controls.durationPercentagePhaseOne"
            inputId="phase-one"
            placeholder="1ª Fase"
            [size]="3"
          />
          <p-inputNumber
            [formControl]="cropForm.controls.durationPercentagePhaseTwo"
            inputId="phase-two"
            placeholder="2ª Fase"
            [size]="3"
            class="ms-1"
          />
          <p-inputNumber
            [formControl]="cropForm.controls.durationPercentagePhaseThree"
            inputId="phase-three"
            placeholder="3ª Fase"
            [size]="3"
            class="ms-1"
          />
          <p-inputNumber
            [formControl]="cropForm.controls.durationPercentagePhaseFour"
            inputId="phase-four"
            placeholder="4ª Fase"
            [size]="3"
            class="ms-1"
          />
        </div>
      </div>
    </div>
    <div class="d-flex justify-content-end gap-2 mt-3">
      <p-button
        label="Cancelar"
        severity="secondary"
        (click)="visible = false"
      />
      <p-button type="submit" label="Salvar" [disabled]="!cropForm.valid" />
    </div>
  </form>
</p-dialog>
